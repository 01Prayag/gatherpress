!function(){"use strict";var e={n:function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,{a:n}),n},d:function(t,n){for(var l in n)e.o(n,l)&&!e.o(t,l)&&Object.defineProperty(t,l,{enumerable:!0,get:n[l]})},o:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}},t=window.wp.element,n=window.wp.i18n,l=window.wp.plugins,r=window.wp.editPost,o=window.moment,a=e.n(o),s=window.wp.components,u=window.wp.data,i=window.wp.date;const c=e=>{const n=(0,i.getSettings)(),l=a()().valueOf();console.log("here"),console.log(l);const[r,o]=(0,t.useState)(l);return(0,i.dateI18n)(`${n.formats.date} ${n.formats.time}`,r,!1)};moment().add(1,"day").set("hour",18).set("minute",0).format(dateTimeFormat);var m=e=>(0,t.createElement)("section",null,(0,t.createElement)("h3",null,(0,n.__)("Date & time","gatherpress")),(0,t.createElement)(s.PanelRow,null,(0,t.createElement)(s.Flex,null,(0,t.createElement)(s.FlexItem,null,(0,n.__)("Start","gatherpress")),(0,t.createElement)(s.FlexItem,null,(0,t.createElement)(s.Dropdown,{position:"bottom left",renderToggle:e=>{let{isOpen:n,onToggle:l}=e;return(0,t.createElement)(s.Button,{onClick:l,"aria-expanded":n,isLink:!0},(0,t.createElement)(c,null))},renderContent:()=>""})))),(0,t.createElement)(s.PanelRow,null,(0,t.createElement)(s.Flex,null,(0,t.createElement)(s.FlexItem,null,(0,n.__)("End","gatherpress")),(0,t.createElement)(s.FlexItem,null,"here"))));const d=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];for(const[n,l]of Object.entries(e)){let e=n;t&&(e+=t);const r=new CustomEvent(e,{detail:l});dispatchEvent(r)}};var p=e=>{const{venue:l,setVenue:r}=e,o=(0,u.useDispatch)("core/editor").editPost,{unlockPostSaving:a}=(0,u.useDispatch)("core/editor"),i=(0,u.useSelect)((e=>e("core/editor").getEditedPostAttribute("_gp_venue"))),c=(0,u.useSelect)((e=>e("core").getEntityRecord("taxonomy","_gp_venue",i))),m=null==c?void 0:c.slug.replace("_venue_",""),p=i+":"+m;(0,t.useEffect)((()=>{var e;r(null!==(e=String(p))&&void 0!==e?e:""),d({setVenueId:m})}));let g=(0,u.useSelect)((e=>e("core").getEntityRecords("taxonomy","_gp_venue",{per_page:-1,context:"view"})),[l]);return g?(g=g.map((e=>({label:e.name,value:e.id+":"+e.slug.replace("_venue_","")}))),g.unshift({value:":",label:(0,n.__)("Choose a venue","gatherpress")})):g=[],(0,t.createElement)(s.PanelRow,null,(0,t.createElement)(s.Flex,null,(0,t.createElement)(s.FlexItem,null,(0,n.__)("Venue","gatherpress")),(0,t.createElement)(s.FlexItem,null,(0,t.createElement)(s.SelectControl,{label:(0,n.__)("Venue","gatherpress"),hideLabelFromVision:"true",value:l,onChange:e=>{(e=>{r(e);const t=""!==(e=e.split(":"))[0]?[e[0]]:[];o({_gp_venue:t}),d({setVenueId:e[1]}),a()})(e)},options:g,style:{width:"11rem"}}))))};(0,l.registerPlugin)("gp-event-settings",{render:()=>{const[e,l]=(0,t.useState)("");return"gp_event"===wp.data.select("core/editor").getCurrentPostType()&&(0,t.createElement)(r.PluginDocumentSettingPanel,{name:"gp-event-settings",title:(0,n.__)("Event settings","gatherpress"),initialOpen:!0,className:"gp-event-settings"},(0,t.createElement)(m,null),(0,t.createElement)("hr",null),(0,t.createElement)(p,{venue:e,setVenue:l}))},icon:""})}();